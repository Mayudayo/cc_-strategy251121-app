# 📅 デプロイスケジュール - 親友AI性格診断アプリ

## 🎯 目標
本番環境デプロイまでの完全スケジュール

---

## 📊 全体スケジュール（3フェーズ）

| フェーズ | 内容 | 所要時間 | 担当 | 状態 |
|---------|------|----------|------|------|
| **Phase 1** | リソースセットアップ | 30分 | DevOps | ⏳ 待機中 |
| **Phase 2** | Vercelデプロイ | 10分 | DevOps | ⏳ 待機中 |
| **Phase 3** | 動作確認・公開 | 20分 | QA | ⏳ 待機中 |

**合計**: 60分（1時間）

---

## Phase 1: リソースセットアップ（30分）

### 1.1 Supabase本番環境（15分）

#### ステップ
1. **Supabaseプロジェクト作成**（2分）
   - https://supabase.com/dashboard
   - 新規プロジェクト作成
   - リージョン選択: Tokyo（ap-northeast-1）

2. **schema.sql実行**（5分）
   ```bash
   # SQL Editorで実行
   /Users/mayufunabora/Dropbox/Miyabi/products/cc_strategy251121/schema.sql
   ```
   - 5テーブル作成
   - RLSポリシー設定
   - 16キャラクターシードデータ投入

3. **認証設定**（3分）
   - Email/Password有効化
   - Google OAuth設定（オプション）

4. **URL・Key取得**（2分）
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`

5. **動作確認**（3分）
   - SQL Editorでテーブル確認
   - characters テーブルに16行確認

### 1.2 Claude API本番設定（10分）

#### ステップ
1. **Anthropic APIキー取得**（5分）
   - https://console.anthropic.com/
   - 本番用APIキー作成
   - レート制限確認（Tier 2推奨）

2. **コスト見積もり**（3分）
   - Claude Sonnet 4: $3/MTok（入力）、$15/MTok（出力）
   - 想定月間コスト計算
   - 予算設定

3. **テスト実行**（2分）
   ```bash
   curl https://api.anthropic.com/v1/messages \
     -H "x-api-key: $CLAUDE_API_KEY" \
     -H "anthropic-version: 2023-06-01" \
     -H "content-type: application/json" \
     -d '{"model":"claude-sonnet-4-20250514","max_tokens":1024,"messages":[{"role":"user","content":"Hello"}]}'
   ```

### 1.3 環境変数準備（5分）

#### `.env.production`作成
```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...

# Claude API
CLAUDE_API_KEY=sk-ant-api03-...
ANTHROPIC_API_KEY=sk-ant-api03-...

# App
NEXT_PUBLIC_APP_URL=https://親友ai.vercel.app
NEXT_PUBLIC_APP_NAME=親友AI性格診断
```

---

## Phase 2: Vercelデプロイ（10分）

### 2.1 Vercel連携（5分）

#### ステップ
1. **GitHubリポジトリ確認**（1分）
   - https://github.com/Mayudayo/cc_-strategy251121-app
   - main ブランチ最新化確認

2. **Vercelプロジェクト作成**（2分）
   - https://vercel.com/new
   - Import Git Repository
   - リポジトリ選択: `cc_-strategy251121-app`

3. **環境変数設定**（2分）
   - `.env.production`の内容をコピー
   - Vercel環境変数に貼り付け
   - Production環境に適用

### 2.2 デプロイ実行（5分）

#### ステップ
1. **デプロイ開始**（3分）
   - "Deploy" ボタンクリック
   - ビルドログ確認
   - ビルド成功待機

2. **URL取得**（1分）
   - デプロイ完了後のURL取得
   - 例: `https://cc-strategy251121-app.vercel.app`

3. **カスタムドメイン設定**（オプション、1分）
   - 独自ドメイン追加
   - DNS設定

---

## Phase 3: 動作確認・公開（20分）

### 3.1 機能テスト（15分）

#### テスト項目
1. **ランディングページ表示**（2分）
   - [ ] ヒーローセクション表示
   - [ ] CTA ボタン動作
   - [ ] Glass Morphism適用確認

2. **性格診断フロー**（5分）
   - [ ] 60問表示確認
   - [ ] プログレスバー動作
   - [ ] 診断結果送信成功
   - [ ] MBTIタイプ判定正常

3. **AI対話機能**（5分）
   - [ ] チャットUI表示
   - [ ] メッセージ送信
   - [ ] Claude応答受信
   - [ ] 会話履歴保存

4. **SNS連携UI**（2分）
   - [ ] 連携ボタン表示
   - [ ] 設定画面遷移
   - [ ] 状態表示確認

5. **レスポンシブ確認**（1分）
   - [ ] モバイル表示（375px）
   - [ ] タブレット表示（768px）
   - [ ] デスクトップ表示（1920px）

### 3.2 パフォーマンステスト（3分）

#### Lighthouse測定
```bash
npx lighthouse https://your-app.vercel.app --view
```

**目標スコア**
- Performance: 90+
- Accessibility: 90+
- Best Practices: 90+
- SEO: 90+

### 3.3 本番公開（2分）

#### チェックリスト
- [ ] 全機能テスト完了
- [ ] Lighthouseスコア90+達成
- [ ] エラーログ確認（0件）
- [ ] URL公開準備完了

---

## 📋 リソースチェックリスト

### 必須リソース
- [ ] Supabase本番プロジェクト
- [ ] Claude API Key（本番用）
- [ ] Vercelアカウント
- [ ] GitHub リポジトリ（public）

### オプションリソース
- [ ] Twitter Developer Account（SNS連携用）
- [ ] Instagram Graph API（SNS連携用）
- [ ] Stripe本番アカウント（課金機能用）
- [ ] カスタムドメイン

---

## ⚠️ リスク管理

### リスク項目

| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| Supabase無料枠超過 | 高 | 中 | 有料プラン移行準備 |
| Claude APIレート制限 | 中 | 低 | Tier 2申請、キャッシュ実装 |
| Vercelビルドエラー | 中 | 低 | ローカルビルドテスト済み |
| 環境変数設定ミス | 高 | 中 | チェックリスト2重確認 |

---

## 📈 デプロイ後のアクション

### 即座実施
1. **モニタリング設定**
   - Vercel Analytics有効化
   - Supabase Logs確認
   - Claude API使用量監視

2. **ユーザーテスト**
   - 5名の初期ユーザー招待
   - フィードバック収集
   - 改善点リスト作成

3. **ドキュメント更新**
   - README.mdに本番URL追加
   - デプロイ手順書更新

### 1週間以内
1. **SNS連携実装**
   - Twitter OAuth設定
   - Instagram Graph API設定
   - 自発的声かけ機能テスト

2. **課金機能準備**
   - Stripe本番アカウント
   - 料金プラン設計
   - 決済フロー実装

---

## ✅ 完了条件

### Phase 1完了
- [x] Supabase本番環境稼働
- [x] Claude API動作確認
- [x] 環境変数準備完了

### Phase 2完了
- [x] Vercelデプロイ成功
- [x] 本番URL取得
- [x] ビルドエラー0

### Phase 3完了
- [x] 全機能動作確認
- [x] Lighthouseスコア90+
- [x] 本番公開完了

---

## 🔗 関連リンク

- **GitHubリポジトリ**: https://github.com/Mayudayo/cc_-strategy251121-app
- **Supabase Dashboard**: https://supabase.com/dashboard
- **Anthropic Console**: https://console.anthropic.com/
- **Vercel Dashboard**: https://vercel.com/dashboard

---

**作成日**: 2025-11-21  
**最終更新**: 2025-11-21  
**ステータス**: Phase 1待機中

🧞‍♂️ Generated with miyabi AGI OS - Tier1
